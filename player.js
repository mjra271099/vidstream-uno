document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("videoPlayer"),t=document.getElementById("playPauseBtn"),n=document.getElementById("muteBtn"),i=document.getElementById("volumeSlider"),l=document.getElementById("progressContainer"),s=document.getElementById("progressBar"),a=document.getElementById("currentTime"),r=document.getElementById("duration"),c=document.getElementById("playbackSpeed"),d=document.getElementById("fullscreenBtn"),o=document.getElementById("spinner"),u=document.getElementById("errorMessage"),f=document.querySelector(".container"),m=document.getElementById("videoContainer"),p=document.getElementById("centerPlayBtn"),y=document.getElementById("downloadBtn"),E=new URLSearchParams(window.location.search),L=E.get("id");if(L){o.style.display="block";let v="https://cdn.videy.co/"+L+".mp4";e.src=v,y.href=v,y.setAttribute("download",L+".mp4"),e.addEventListener("loadeddata",function(){o.style.display="none",r.textContent=g(e.duration)}),e.addEventListener("waiting",function(){o.style.display="block"}),e.addEventListener("canplay",function(){o.style.display="none"}),e.addEventListener("error",function(){o.style.display="none",u.style.display="block"}),e.pause(),t.innerHTML='<i class="fas fa-play"></i>',m.classList.add("paused")}else u.innerHTML='<i class="fas fa-exclamation-circle"></i><p>Video tidak ditemukan</p>',u.style.display="block";function g(e){return isNaN(e)?"00:00":`${Math.floor(e/60).toString().padStart(2,"0")}:${Math.floor(e%60).toString().padStart(2,"0")}`}function k(){e.paused||e.ended?(e.play(),t.innerHTML='<i class="fas fa-pause"></i>',p.innerHTML='<i class="fas fa-pause"></i>',m.classList.remove("paused")):(e.pause(),t.innerHTML='<i class="fas fa-play"></i>',p.innerHTML='<i class="fas fa-play"></i>',m.classList.add("paused"))}function $(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?d.innerHTML='<i class="fas fa-compress"></i>':d.innerHTML='<i class="fas fa-expand"></i>'}t.addEventListener("click",function(e){e.stopPropagation(),k()}),p.addEventListener("click",function(e){e.stopPropagation(),k()}),m.addEventListener("click",function(t){(t.target===m||t.target===e)&&k()}),e.addEventListener("timeupdate",function(){let t=e.currentTime,n=e.duration;s.style.width=`${t/n*100}%`,a.textContent=g(t)}),l.addEventListener("click",function(t){let n=this.clientWidth,i=t.offsetX,l=e.duration;e.currentTime=i/n*l}),n.addEventListener("click",function(){e.muted=!e.muted,n.innerHTML=e.muted?'<i class="fas fa-volume-mute"></i>':'<i class="fas fa-volume-up"></i>',i.value=e.muted?0:e.volume}),i.addEventListener("input",function(){e.volume=i.value,e.muted=0===i.value,n.innerHTML=0==i.value?'<i class="fas fa-volume-mute"></i>':'<i class="fas fa-volume-up"></i>'}),c.addEventListener("change",function(){e.playbackRate=parseFloat(this.value)}),d.addEventListener("click",function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),d.innerHTML='<i class="fas fa-expand"></i>'):(f.requestFullscreen?f.requestFullscreen():f.webkitRequestFullscreen?f.webkitRequestFullscreen():f.mozRequestFullScreen?f.mozRequestFullScreen():f.msRequestFullscreen&&f.msRequestFullscreen(),d.innerHTML='<i class="fas fa-compress"></i>')}),e.addEventListener("play",function(){t.innerHTML='<i class="fas fa-pause"></i>',p.innerHTML='<i class="fas fa-pause"></i>',m.classList.remove("paused")}),e.addEventListener("pause",function(){t.innerHTML='<i class="fas fa-play"></i>',p.innerHTML='<i class="fas fa-play"></i>',m.classList.add("paused")}),document.addEventListener("fullscreenchange",$),document.addEventListener("webkitfullscreenchange",$),document.addEventListener("mozfullscreenchange",$),document.addEventListener("MSFullscreenChange",$),window.addEventListener("orientationchange",function(){setTimeout(function(){e.style.height="100%",e.style.width="100%"},200)}),setInterval(function e(){let t=window.outerWidth-window.innerWidth>160,n=window.outerHeight-window.innerHeight>160;(t||n)&&(window.location.href="https://doodestream.com")},500),document.addEventListener("contextmenu",function(e){e.preventDefault(),alert("Klik kanan tidak diizinkan!")}),document.addEventListener("keydown",function(e){("F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"J"===e.key)||e.ctrlKey&&"U"===e.key)&&(e.preventDefault(),alert("Aksi ini tidak diizinkan!"),window.location.href="https://doodestream.com")});let h=["#"],F=!0;document.addEventListener("click",e=>{let t=e.target.closest(".video-controls")||e.target.closest(".video-title")||e.target.closest(".center-play-btn");F&&!t&&(F=!1,function e(){let t=h[Math.floor(Math.random()*h.length)];t&&"#"!==t&&window.open(t,"_blank")}(),setTimeout(()=>{F=!0},9e3))})});
